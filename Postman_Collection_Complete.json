{
  "info": {
    "name": "Backend API - Complete Collection (All 150+ Endpoints)",
    "description": "Complete API collection with all endpoints organized by 17 modules. Use environment variables for easy testing.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "backend-api-complete"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-set authorization header if token exists",
          "const token = pm.environment.get('accessToken');",
          "if (token) {",
          "    pm.request.headers.add({",
          "        key: 'Authorization',",
          "        value: 'Bearer ' + token",
          "    });",
          "}"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api/v1",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "projectId",
      "value": "",
      "type": "string"
    },
    {
      "key": "projectSlug",
      "value": "",
      "type": "string"
    },
    {
      "key": "paymentIntentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Health Check",
      "description": "Health check endpoint for development",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check if the API is running"
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Authentication & Users",
      "description": "User authentication, registration, and management - 24 endpoints",
      "item": [
        {
          "name": "Auth Flow",
          "item": [
            {
              "name": "Register User",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 201 || pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.token) pm.environment.set('accessToken', jsonData.token);",
                      "    if (jsonData.user && jsonData.user.uid) pm.environment.set('userId', jsonData.user.uid);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"username\": \"testuser{{$randomInt}}\",\n  \"fullName\": \"Test User\",\n  \"email\": \"test{{$randomInt}}@example.com\",\n  \"password\": \"SecurePass123!\",\n  \"phone\": \"+12345{{$randomInt}}\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/register",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "register"]
                }
              }
            },
            {
              "name": "Send OTP",
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/sendOTP",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "sendOTP"]
                }
              }
            },
            {
              "name": "Verify Email",
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"otp\": \"123456\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/verifyEmail",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "verifyEmail"]
                }
              }
            },
            {
              "name": "Login User",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.accessToken) pm.environment.set('accessToken', jsonData.accessToken);",
                      "    if (jsonData.refreshToken) pm.environment.set('refreshToken', jsonData.refreshToken);",
                      "    if (jsonData.user && jsonData.user.uid) pm.environment.set('userId', jsonData.user.uid);",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/login",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "login"]
                },
                "description": "Login and auto-save tokens"
              }
            },
            {
              "name": "Refresh Access Token",
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/refreshAcessToken",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "refreshAcessToken"]
                }
              }
            },
            {
              "name": "Logout User",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/logoutUser",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "logoutUser"]
                }
              }
            },
            {
              "name": "Logout User Forcefully",
              "request": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/logoutUserForceFully",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "logoutUserForceFully"]
                },
                "description": "Logout from all devices"
              }
            }
          ]
        },
        {
          "name": "User Management",
          "item": [
            {
              "name": "Get Current User",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/getCurrentUser",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "getCurrentUser"]
                }
              }
            },
            {
              "name": "Get Single User",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/getSingleUser?userId={{userId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "getSingleUser"],
                  "query": [{ "key": "userId", "value": "{{userId}}" }]
                }
              }
            },
            {
              "name": "Get All Users",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/getAllUsers",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "getAllUsers"]
                },
                "description": "Admin/Moderator only"
              }
            },
            {
              "name": "Search Users",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/searchUsers?search=test",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "searchUsers"],
                  "query": [{ "key": "search", "value": "test" }]
                }
              }
            },
            {
              "name": "Get All Clients",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/getAllClients",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "getAllClients"]
                }
              }
            }
          ]
        },
        {
          "name": "Profile Updates",
          "item": [
            {
              "name": "Update User Info",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fullName\": \"Updated Name\",\n  \"address\": \"123 Main St\",\n  \"detail\": \"Some details about me\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/updateInfo",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "updateInfo"]
                }
              }
            },
            {
              "name": "Update Email",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"newEmail\": \"newemail@example.com\",\n  \"password\": \"SecurePass123!\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/updateEmail",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "updateEmail"]
                }
              }
            },
            {
              "name": "Update Password",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"oldPassword\": \"SecurePass123!\",\n  \"newPassword\": \"NewSecurePass123!\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/updatePassword",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "updatePassword"]
                }
              }
            },
            {
              "name": "Update Role",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"role\": \"FREELANCER\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/updateRole",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "updateRole"]
                },
                "description": "Roles: CLIENT, ADMIN, MODERATOR, FREELANCER"
              }
            }
          ]
        },
        {
          "name": "Password Recovery",
          "item": [
            {
              "name": "Forgot Password Request",
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/forgotPasswordRequestFromUser",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "forgotPasswordRequestFromUser"]
                }
              }
            },
            {
              "name": "Verify Forgot Password Request",
              "request": {
                "auth": { "type": "noauth" },
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"otp\": \"123456\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/verifyForgotPasswordRequest",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "verifyForgotPasswordRequest"]
                }
              }
            },
            {
              "name": "Update New Password",
              "request": {
                "auth": { "type": "noauth" },
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"test@example.com\",\n  \"newPassword\": \"NewSecurePass123!\",\n  \"token\": \"reset_token_here\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/updateNewPasswordRequest",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "updateNewPasswordRequest"]
                }
              }
            }
          ]
        },
        {
          "name": "User Deletion",
          "item": [
            {
              "name": "Trash User",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"{{userId}}\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/trashTheUser",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "trashTheUser"]
                },
                "description": "Soft delete - Admin/Moderator"
              }
            },
            {
              "name": "Untrash User",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userId\": \"{{userId}}\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/auth/unTrashTheUser",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "unTrashTheUser"]
                },
                "description": "Restore - Admin only"
              }
            },
            {
              "name": "Delete User Permanently",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/deleteUser/{{userId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "deleteUser", "{{userId}}"]
                },
                "description": "Permanent delete - Admin only"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "3. Payment (Stripe Integration)",
      "description": "Payment processing with Stripe - 7 endpoints",
      "item": [
        {
          "name": "Payment Intent",
          "item": [
            {
              "name": "Create Payment Intent",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.paymentIntentId) {",
                      "        pm.environment.set('paymentIntentId', jsonData.paymentIntentId);",
                      "        console.log('✅ Payment Intent ID saved: ' + jsonData.paymentIntentId);",
                      "    }",
                      "    if (jsonData.clientSecret) {",
                      "        pm.environment.set('clientSecret', jsonData.clientSecret);",
                      "        console.log('✅ Client Secret saved');",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"amount\": 10000,\n  \"currency\": \"usd\",\n  \"description\": \"Project payment for milestone completion\",\n  \"metadata\": {\n    \"projectId\": \"{{projectId}}\",\n    \"userId\": \"{{userId}}\",\n    \"type\": \"milestone_payment\"\n  }\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payment/create-payment-intent",
                  "host": ["{{baseUrl}}"],
                  "path": ["payment", "create-payment-intent"]
                },
                "description": "Create a Stripe payment intent. Amount is in cents (10000 = $100.00)"
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"amount\": 10000,\n  \"currency\": \"usd\",\n  \"description\": \"Project payment\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payment/create-payment-intent",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "create-payment-intent"]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"paymentIntentId\": \"pi_1234567890abcdef\",\n  \"clientSecret\": \"pi_1234567890abcdef_secret_abc123\",\n  \"amount\": 10000,\n  \"currency\": \"usd\",\n  \"status\": \"requires_payment_method\"\n}"
                }
              ]
            },
            {
              "name": "Get Payment Intent Status",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/payment/payment-intent/{{paymentIntentId}}/status",
                  "host": ["{{baseUrl}}"],
                  "path": [
                    "payment",
                    "payment-intent",
                    "{{paymentIntentId}}",
                    "status"
                  ]
                },
                "description": "Check the status of a payment intent. Uses paymentIntentId from environment."
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "GET",
                    "url": {
                      "raw": "{{baseUrl}}/payment/payment-intent/pi_123/status",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "payment-intent", "pi_123", "status"]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"paymentIntentId\": \"pi_1234567890abcdef\",\n  \"status\": \"succeeded\",\n  \"amount\": 10000,\n  \"currency\": \"usd\",\n  \"paidAt\": \"2025-10-17T12:00:00Z\"\n}"
                }
              ]
            }
          ]
        },
        {
          "name": "Checkout Session",
          "item": [
            {
              "name": "Create Checkout Session",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.sessionId) {",
                      "        pm.environment.set('sessionId', jsonData.sessionId);",
                      "        console.log('✅ Checkout Session ID saved: ' + jsonData.sessionId);",
                      "    }",
                      "    if (jsonData.url) {",
                      "        pm.environment.set('checkoutUrl', jsonData.url);",
                      "        console.log('✅ Checkout URL: ' + jsonData.url);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"amount\": 15000,\n  \"currency\": \"usd\",\n  \"successUrl\": \"https://yourdomain.com/success?session_id={CHECKOUT_SESSION_ID}\",\n  \"cancelUrl\": \"https://yourdomain.com/cancel\",\n  \"metadata\": {\n    \"projectId\": \"{{projectId}}\",\n    \"userId\": \"{{userId}}\",\n    \"type\": \"project_payment\"\n  }\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payment/create-checkout-session",
                  "host": ["{{baseUrl}}"],
                  "path": ["payment", "create-checkout-session"]
                },
                "description": "Create a Stripe Checkout session for client-side payment processing. Returns a URL to redirect the user."
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"amount\": 15000,\n  \"currency\": \"usd\",\n  \"successUrl\": \"https://example.com/success\",\n  \"cancelUrl\": \"https://example.com/cancel\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payment/create-checkout-session",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "create-checkout-session"]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"sessionId\": \"cs_test_1234567890abcdef\",\n  \"url\": \"https://checkout.stripe.com/c/pay/cs_test_1234567890abcdef\"\n}"
                }
              ]
            },
            {
              "name": "Get Checkout Session Status",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/payment/checkout-session/{{sessionId}}/status",
                  "host": ["{{baseUrl}}"],
                  "path": [
                    "payment",
                    "checkout-session",
                    "{{sessionId}}",
                    "status"
                  ]
                },
                "description": "Check the status of a checkout session. Uses sessionId from environment."
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "GET",
                    "url": {
                      "raw": "{{baseUrl}}/payment/checkout-session/cs_123/status",
                      "host": ["{{baseUrl}}"],
                      "path": [
                        "payment",
                        "checkout-session",
                        "cs_123",
                        "status"
                      ]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"sessionId\": \"cs_test_1234567890abcdef\",\n  \"status\": \"complete\",\n  \"paymentStatus\": \"paid\",\n  \"amount\": 15000,\n  \"currency\": \"usd\",\n  \"customerEmail\": \"customer@example.com\"\n}"
                }
              ]
            }
          ]
        },
        {
          "name": "Refunds",
          "item": [
            {
              "name": "Create Refund",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "if (pm.response.code === 200 || pm.response.code === 201) {",
                      "    var jsonData = pm.response.json();",
                      "    if (jsonData.refundId) {",
                      "        pm.environment.set('refundId', jsonData.refundId);",
                      "        console.log('✅ Refund ID saved: ' + jsonData.refundId);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"paymentIntentId\": \"{{paymentIntentId}}\",\n  \"amount\": 5000,\n  \"reason\": \"requested_by_customer\",\n  \"metadata\": {\n    \"refundReason\": \"Project cancelled\",\n    \"requestedBy\": \"{{userId}}\"\n  }\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payment/create-refund",
                  "host": ["{{baseUrl}}"],
                  "path": ["payment", "create-refund"]
                },
                "description": "Create a refund for a payment. Amount is optional (full refund if not specified). Reasons: requested_by_customer, duplicate, fraudulent"
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"paymentIntentId\": \"pi_123\",\n  \"amount\": 5000,\n  \"reason\": \"requested_by_customer\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payment/create-refund",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "create-refund"]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"refundId\": \"re_1234567890abcdef\",\n  \"status\": \"succeeded\",\n  \"amount\": 5000,\n  \"currency\": \"usd\",\n  \"paymentIntentId\": \"pi_1234567890abcdef\",\n  \"reason\": \"requested_by_customer\"\n}"
                }
              ]
            }
          ]
        },
        {
          "name": "Payment History",
          "item": [
            {
              "name": "Get Payment History",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/payment/history?limit=10&offset=0&status=succeeded",
                  "host": ["{{baseUrl}}"],
                  "path": ["payment", "history"],
                  "query": [
                    {
                      "key": "limit",
                      "value": "10",
                      "description": "Number of records to return"
                    },
                    {
                      "key": "offset",
                      "value": "0",
                      "description": "Number of records to skip"
                    },
                    {
                      "key": "status",
                      "value": "succeeded",
                      "description": "Filter by status: succeeded, pending, failed, refunded"
                    }
                  ]
                },
                "description": "Get payment history for the current user. Supports pagination and filtering by status."
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "GET",
                    "url": {
                      "raw": "{{baseUrl}}/payment/history?limit=10",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "history"],
                      "query": [
                        {
                          "key": "limit",
                          "value": "10"
                        }
                      ]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"success\": true,\n  \"payments\": [\n    {\n      \"id\": \"pay_123\",\n      \"paymentIntentId\": \"pi_1234567890abcdef\",\n      \"amount\": 10000,\n      \"currency\": \"usd\",\n      \"status\": \"succeeded\",\n      \"description\": \"Project payment\",\n      \"paidAt\": \"2025-10-17T12:00:00Z\",\n      \"refundedAt\": null\n    },\n    {\n      \"id\": \"pay_456\",\n      \"paymentIntentId\": \"pi_0987654321fedcba\",\n      \"amount\": 15000,\n      \"currency\": \"usd\",\n      \"status\": \"succeeded\",\n      \"description\": \"Milestone payment\",\n      \"paidAt\": \"2025-10-15T10:30:00Z\",\n      \"refundedAt\": null\n    }\n  ],\n  \"total\": 25,\n  \"limit\": 10,\n  \"offset\": 0\n}"
                }
              ]
            }
          ]
        },
        {
          "name": "Webhook",
          "item": [
            {
              "name": "Stripe Webhook",
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "stripe-signature",
                    "value": "t=1234567890,v1=signature_here",
                    "description": "Stripe webhook signature for verification"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"id\": \"evt_1234567890abcdef\",\n  \"object\": \"event\",\n  \"api_version\": \"2023-10-16\",\n  \"created\": 1634567890,\n  \"data\": {\n    \"object\": {\n      \"id\": \"pi_1234567890abcdef\",\n      \"object\": \"payment_intent\",\n      \"amount\": 10000,\n      \"currency\": \"usd\",\n      \"status\": \"succeeded\"\n    }\n  },\n  \"type\": \"payment_intent.succeeded\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payment/webhook",
                  "host": ["{{baseUrl}}"],
                  "path": ["payment", "webhook"]
                },
                "description": "Stripe webhook endpoint for real-time payment events. This endpoint is called by Stripe, not by your application. No authentication required (uses webhook signature verification)."
              },
              "response": [
                {
                  "name": "Success Response",
                  "originalRequest": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "stripe-signature",
                        "value": "t=1234567890,v1=signature"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"type\": \"payment_intent.succeeded\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payment/webhook",
                      "host": ["{{baseUrl}}"],
                      "path": ["payment", "webhook"]
                    }
                  },
                  "status": "OK",
                  "code": 200,
                  "_postman_previewlanguage": "json",
                  "header": [],
                  "body": "{\n  \"received\": true\n}"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
